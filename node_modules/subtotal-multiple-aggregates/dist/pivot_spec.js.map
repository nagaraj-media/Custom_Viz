{"version":3,"file":"pivot_spec.js","sources":["pivot_spec.coffee"],"names":[],"mappings":"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","sourcesContent":["fixtureData = [\n    [\"name\",    \"gender\",   \"colour\",       \"birthday\",     \"trials\",   \"successes\"],\n    [\"Nick\",    \"male\",     \"blue\",         \"1982-11-07\",   103,        12],\n    [\"Jane\",    \"female\",   \"red\",          \"1982-11-08\",   95,         25],\n    [\"John\",    \"male\",     \"blue\",         \"1982-12-08\",   112,        30],\n    [\"Carol\",   \"female\",   \"yellow\",       \"1983-11-11\",   102,        14],\n    [\"Raj\",     \"male\",     \"blue\",         \"1982-11-07\",   103,        12],\n    [\"Rani\",    \"female\",   \"red\",          \"1982-11-08\",   95,         25],\n    [\"Joshi\",   \"male\",     \"blue\",         \"1982-12-09\",   112,        12],\n    [\"Vel\",     \"male\",     \"yellow\",       \"1982-12-01\",   112,        25],\n    [\"Sai\",     \"male\",     \"red\",          \"1982-11-08\",   112,        30],\n    [\"Geeth\",   \"female\",   \"blue\",         \"1982-12-03\",   112,        14],\n    [\"Malar\",   \"male\",     \"red\",          \"1982-11-05\",   112,        12],\n    [\"Nila\",    \"male\",     \"blue\",         \"1982-12-07\",   112,        25],\n    [\"Yaazhi\",  \"male\",     \"yellow\",       \"1982-12-06\",   112,        30],\n    [\"Mukhi\",   \"male\",     \"yellow\",       \"1982-11-07\",   112,        14]]\n\nfixtureData2 = [\n    [\"name\",    \"gender\",   \"colour\",    \"birthday\",     \"trials\",   \"successes\"],\n    [\"Nick\",    \"male\",     \"blue\",      \"1982-11-07\",   103,        12],\n    [\"Jane\",    \"female\",   \"red\",       \"1982-11-08\",   95,         25],\n    [\"John\",    \"male\",     \"blue\",      \"1982-12-08\",   112,        30],\n    [\"Carol\",   \"female\",   \"yellow\",    \"1983-12-08\",   102,        14]]\n\n\ndescribe \"$.pivotUI()\", ->\n    describe \"with no rows/cols, default count aggregator, subtotal renderer\",  ->\n        table = null\n\n        beforeEach (done) ->\n            table = $(\"<div>\").pivotUI fixtureData, {\n                dataClass: $.pivotUtilities.SubtotalPivotData,\n                renderers: $.pivotUtilities.subtotal_renderers,\n                onRefresh: done\n            }\n\n\n        it \"has all the basic UI elements\", (done) ->\n            expect table.find(\"td.pvtAxisContainer\").length\n            .toBe   3\n            expect table.find(\"td.pvtRendererArea\").length\n            .toBe   1\n            expect table.find(\"td.pvtVals\").length\n            .toBe   1\n            expect table.find(\"select.pvtRenderer\").length\n            .toBe   1\n            expect table.find(\"select.pvtAggregator\").length\n            .toBe   1\n            expect table.find(\"span.pvtAttr\").length\n            .toBe   6\n            expect table.find(\"th.pvtTotalLabel\").length\n            .toBe   1 \n            expect table.find(\"td.pvtGrandTotal\").length\n            .toBe   1 \n            done()\n\n        it \"reflects its inputs\", (done) ->\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\n            .toBe  6\n            expect table.find(\"select.pvtRenderer\").val()\n            .toBe  \"Table With Subtotal\"\n            expect table.find(\"select.pvtAggregator\").val()\n            .toBe  \"Count\"\n            done()\n\n        it \"renders a table\", (done) ->\n            expect table.find(\"table.pvtTable\").length\n            .toBe  1 \n            done()\n\n        describe \"its renderer output\", ->\n            it \"has the correct type and number of cells\", (done) ->\n                expect table.find(\"th.pvtTotalLabel\").length\n                .toBe  1 \n                expect table.find(\"td.pvtGrandTotal\").length\n                .toBe  1 \n                done()\n\n            it \"has the correct textual representation\", (done) ->\n                expect table.find(\"table.pvtTable\").text()\n                .toBe [\"Totals\", \"14\"].join(\"\")\n                done()\n\n            it \"has a correct grand total with data value\", (done) ->\n                expect table.find(\"td.pvtGrandTotal\").text()\n                .toBe  \"14\"\n                expect table.find(\"td.pvtGrandTotal\").data(\"value\")\n                .toBe  14\n                done()\n\n    describe \"with collapsed rows and cols, subtotal_aggregators\",  ->\n        table = null\n\n        beforeEach (done) ->\n            table = $(\"<div>\").pivotUI fixtureData, \n                dataClass: $.pivotUtilities.SubtotalPivotData,\n                rows: [\"gender\", \"colour\"],\n                cols: [\"birthday\", \"trials\"],\n                aggregators: $.pivotUtilities.subtotal_aggregators,\n                vals: [\"successes\"],\n                renderers: $.pivotUtilities.subtotal_renderers,\n                rendererOptions: {\n                    collapseColsAt: 0,\n                    collapseRowsAt: 0\n                },\n                onRefresh: done\n\n        it \"has all the basic UI elements\", (done) ->\n            expect table.find(\"td.pvtAxisContainer\").length\n            .toBe  3\n            expect table.find(\"td.pvtRendererArea\").length\n            .toBe  1\n            expect table.find(\"td.pvtVals\").length\n            .toBe  1\n            expect table.find(\"select.pvtRenderer\").length\n            .toBe  1\n            expect table.find(\"select.pvtAggregator\").length\n            .toBe  1\n            expect table.find(\"span.pvtAttr\").length\n            .toBe  6\n            done()\n\n        it \"reflects its inputs\", (done) ->\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\n            .toBe  2 \n            expect table.find(\"td.pvtRows span.pvtAttr\").length\n            .toBe  2 \n            expect table.find(\"td.pvtCols span.pvtAttr\").length\n            .toBe  2 \n            expect table.find(\"select.pvtRenderer\").val()\n            .toBe  \"Table With Subtotal\"\n            expect table.find(\"select.pvtAggregator\").val()\n            .toBe  \"Sum As Fraction Of Parent Row\"\n            done()\n\n        it \"renders a table\", (done) ->\n            expect table.find(\"table.pvtTable\").length\n            .toBe  1 \n            done()\n\n        describe \"its renderer output\", ->\n            it \"has the correct type and number of cells\", (done) ->\n                expect table.find(\"th.pvtAxisLabel\").length\n                .toBe  4 \n                expect table.find(\"th.pvtAxisLabel.collapsed\").length\n                .toBe  4 \n                expect table.find(\"th.pvtRowLabel.rowcollapsed\").length\n                .toBe  2\n                expect table.find(\"th.pvtColLabel.colcollapsed\").length\n                .toBe  10 \n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\n                .toBe  1 \n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\n                .toBe  1 \n                expect table.find(\"td.pvtVal.pvtColSubtotal.pvtRowSubtotal\").length\n                .toBe  20 \n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\n                .toBe  2 \n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\n                .toBe  10 \n                expect table.find(\"td.pvtGrandTotal\").length\n                .toBe  1 \n                done()\n\n            it \"has the correct textual representation\", (done) ->\n                expect table.find(\"th.pvtColLabel\").text()\n                .toBe \" \\u25B6 1982-11-05 \\u25B6 1982-11-07 \\u25B6 1982-11-08 \\u25B6 1982-12-01 \\u25B6 1982-12-03 \\u25B6 1982-12-06 \\u25B6 1982-12-07 \\u25B6 1982-12-08 \\u25B6 1982-12-09 \\u25B6 1983-11-1111210311295112112112112112112112102\"\n                expect table.find(\"th.pvtRowLabel\").text()\n                .toBe \" \\u25B6 femaleblueredyellow \\u25B6 maleblueredyellow\"\n                done()\n\n            it \"has a correct spot-checked cell with data value\", (done) ->\n                expect table.find(\"td.pvtVal.pvtRowSubtotal.row0.col3.rowcol0.colcol1\").text()\n                .toBe  \"17.9%\"\n                expect table.find(\"td.pvtVal.pvtTotal.colTotal.pvtColSubtotal.col3.colcol0\").data(\"value\")\n                .toBe  (50+30)/280\n                done()\n\n    describe \"with row and col subtotal hidden on expand\",  ->\n        table = null\n\n        beforeEach (done) ->\n            table = $(\"<div>\").pivotUI fixtureData, \n                dataClass: $.pivotUtilities.SubtotalPivotData,\n                rows: [\"colour\", \"birthday\", \"name\"],\n                cols: [\"trials\", \"gender\", \"successes\"],\n                aggregators: $.pivotUtilities.subtotal_aggregators,\n                vals: [\"successes\"],\n                renderers: $.pivotUtilities.subtotal_renderers,\n                rendererOptions: {\n                    rowSubtotalDisplay: {\n                        hideOnExpand: true\n                    },\n                    colSubtotalDisplay: {\n                        hideOnExpand: true\n                    }\n                },\n                onRefresh: done\n\n        it \"has all the basic UI elements\", (done) ->\n            expect table.find(\"td.pvtAxisContainer\").length\n            .toBe  3\n            expect table.find(\"td.pvtRendererArea\").length\n            .toBe  1\n            expect table.find(\"td.pvtVals\").length\n            .toBe  1\n            expect table.find(\"select.pvtRenderer\").length\n            .toBe  1\n            expect table.find(\"select.pvtAggregator\").length\n            .toBe  1\n            expect table.find(\"span.pvtAttr\").length\n            .toBe  6\n            done()\n\n        it \"reflects its inputs\", (done) ->\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\n            .toBe  0 \n            expect table.find(\"td.pvtRows span.pvtAttr\").length\n            .toBe  3 \n            expect table.find(\"td.pvtCols span.pvtAttr\").length\n            .toBe  3 \n            expect table.find(\"select.pvtRenderer\").val()\n            .toBe  \"Table With Subtotal\"\n            expect table.find(\"select.pvtAggregator\").val()\n            .toBe  \"Sum As Fraction Of Parent Row\"\n            done()\n\n        it \"renders a table\", (done) ->\n            expect table.find(\"table.pvtTable\").length\n            .toBe  1 \n            done()\n\n        describe \"its renderer output\", ->\n            it \"has the correct type and number of cells\", (done) ->\n                expect table.find(\"th.pvtAxisLabel\").length\n                .toBe  6\n                expect table.find(\"th.pvtAxisLabel.collapsed\").length\n                .toBe  0\n                expect table.find(\"th.pvtRowLabel.rowshow.rowcollapsed\").length\n                .toBe  0\n                expect table.find(\"th.pvtColLabel.colshow.colcollapsed\").length\n                .toBe  0\n                expect table.find(\"th.pvtRowLabel.rowshow.rowexpanded\").length\n                .toBe  28\n                expect table.find(\"th.pvtColLabel.colshow.colexpanded\").length\n                .toBe  17\n                expect table.find(\"th.pvtRowLabelFiller.rowhide.rowexpanded\").length\n                .toBe  14\n                expect table.find(\"th.pvtColLabelFiller.colhide.colexpanded\").length\n                .toBe  9 \n                expect table.find(\"td.pvtColSubtotal.pvtRowSubtotal.colhide.colexpanded.rowhide.rowexpanded\").length\n                .toBe  9*14 \n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\n                .toBe  1 \n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\n                .toBe  1 \n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\n                .toBe  14 \n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\n                .toBe  9\n                expect table.find(\"td.pvtGrandTotal\").length\n                .toBe  1 \n                done()\n\n            it \"has the correct textual representation\", (done) ->\n                expect table.find(\"th.pvtColLabel\").text()\n                .toBe \" \\u25E2 95 \\u25E2 102 \\u25E2 103 \\u25E2 112 \\u25E2 female \\u25E2 female \\u25E2 male \\u25E2 female \\u25E2 male2514121412142530\"\n                expect table.find(\"th.pvtRowLabel\").text()\n                .toBe \" \\u25E2 blue \\u25E2 1982-11-07NickRaj \\u25E2 1982-12-03Geeth \\u25E2 1982-12-07Nila \\u25E2 1982-12-08John \\u25E2 1982-12-09Joshi \\u25E2 red \\u25E2 1982-11-05Malar \\u25E2 1982-11-08JaneRaniSai \\u25E2 yellow \\u25E2 1982-11-07Mukhi \\u25E2 1982-12-01Vel \\u25E2 1982-12-06Yaazhi \\u25E2 1983-11-11Carol\"\n                done()\n\n            it \"has a correct spot-checked cell with data value\", (done) ->\n                expect table.find(\"td.pvtVal.rowshow.colshow.row10.col5.rowcol2.colcol2\").text()\n                .toBe  \"100.0%\"\n                expect table.find(\"td.pvtVal[data-rownode=\\\"1\\\"][data-colnode=\\\"6\\\"]\").text()\n                .toBe  \"50.0%\"\n                done()\n\n    describe \"with row subtotal displayed at bottom\",  ->\n        table = null\n\n        beforeEach (done) ->\n            table = $(\"<div>\").pivotUI fixtureData, \n                dataClass: $.pivotUtilities.SubtotalPivotData,\n                rows: [\"colour\", \"birthday\"],\n                cols: [\"gender\", \"successes\"]\n                vals: [\"successes\"],\n                renderers: $.pivotUtilities.subtotal_renderers,\n                rendererOptions: {\n                    rowSubtotalDisplay: {\n                        displayOnTop: false\n                    }\n                },\n                onRefresh: done\n\n        it \"has all the basic UI elements\", (done) ->\n            expect table.find(\"td.pvtAxisContainer\").length\n            .toBe  3\n            expect table.find(\"td.pvtRendererArea\").length\n            .toBe  1\n            expect table.find(\"td.pvtVals\").length\n            .toBe  1\n            expect table.find(\"select.pvtRenderer\").length\n            .toBe  1\n            expect table.find(\"select.pvtAggregator\").length\n            .toBe  1\n            expect table.find(\"span.pvtAttr\").length\n            .toBe  6\n            done()\n\n        it \"reflects its inputs\", (done) ->\n            expect table.find(\"td.pvtUnused span.pvtAttr\").length\n            .toBe  2 \n            expect table.find(\"td.pvtRows span.pvtAttr\").length\n            .toBe  2 \n            expect table.find(\"td.pvtCols span.pvtAttr\").length\n            .toBe  2 \n            expect table.find(\"select.pvtRenderer\").val()\n            .toBe  \"Table With Subtotal\"\n            done()\n\n        it \"renders a table\", (done) ->\n            expect table.find(\"table.pvtTable\").length\n            .toBe  1 \n            done()\n\n        describe \"its renderer output\", ->\n            it \"has the correct type and number of cells\", (done) ->\n                expect table.find(\".pvtTable tbody tr:first-child th\").length\n                .toBe  1\n                expect table.find(\".pvtTable tbody tr:first-child th\").attr(\"rowspan\")\n                .toBe  \"7\"\n                expect table.find(\"tr:nth-child(7) th.pvtRowLabelFiller\").length\n                .toBe  1\n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\n                .toBe  1 \n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\n                .toBe  1 \n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\n                .toBe  3 \n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\n                .toBe  2\n                expect table.find(\"td.pvtGrandTotal\").length\n                .toBe  1 \n                done()\n\n            it \"has the correct textual representation\", (done) ->\n                expect table.find(\"th.pvtColLabel\").text()\n                .toBe \" \\u25E2 female \\u25E2 male142512142530\"\n                expect table.find(\"th.pvtRowLabel\").text()\n                .toBe \" \\u25E2 blue1982-11-071982-12-031982-12-071982-12-081982-12-09 \\u25E2 red1982-11-051982-11-08 \\u25E2 yellow1982-11-071982-12-011982-12-061983-11-11\"\n                done()\n\n            it \"has a correct spot-checked cell with data value\", (done) ->\n                expect table.find(\"tr:nth-child(7) td.pvtTotal\").text()\n                .toBe  \"6\"\n                expect table.find(\"td.pvtVal.row5.rowcol0.pvtRowSubtotal.col0.colcol0.pvtColSubtotal\").text()\n                .toBe  \"2\"\n                expect table.find(\"td.pvtVal[data-rownode=\\\"13\\\"][data-colnode=\\\"7\\\"]\").text()\n                .toBe  \"3\"\n                done()\n\ndescribe \"$.pivot()\", ->\n    describe \"with no rows/cols, default count aggregator, subtotal renderer\",  ->\n        table = $(\"<div>\").pivot fixtureData, {\n            dataClass: $.pivotUtilities.SubtotalPivotData,\n            renderer: $.pivotUtilities.subtotal_renderers[\"Table With Subtotal\"]\n        }\n\n        it \"has all the basic UI elements\", ->\n            expect table.find(\"th.pvtTotalLabel\").length\n            .toBe   1 \n            expect table.find(\"td.pvtGrandTotal\").length\n            .toBe   1 \n\n        it \"renders a table\", ->\n            expect table.find(\"table.pvtTable\").length\n            .toBe  1 \n\n        describe \"its renderer output\", ->\n            it \"has the correct type and number of cells\", ->\n                expect table.find(\"th.pvtTotalLabel\").length\n                .toBe  1 \n                expect table.find(\"td.pvtGrandTotal\").length\n                .toBe  1 \n\n            it \"has the correct textual representation\", ->\n                expect table.find(\"table.pvtTable\").text()\n                .toBe [\"Totals\", \"14\"].join(\"\")\n\n            it \"has a correct grand total with data value\", ->\n                expect table.find(\"td.pvtGrandTotal\").text()\n                .toBe  \"14\"\n                expect table.find(\"td.pvtGrandTotal\").data(\"value\")\n                .toBe  14\n\n    describe \"with rows/cols, subtotal_aggregator\",  ->\n        table = $(\"<div>\").pivot fixtureData, \n            dataClass: $.pivotUtilities.SubtotalPivotData,\n            rows: [\"gender\", \"colour\"],\n            cols: [\"birthday\", \"trials\"],\n            aggregator: $.pivotUtilities.subtotal_aggregators[\"Sum As Fraction Of Parent Column\"]([\"successes\"]),\n            renderer: $.pivotUtilities.subtotal_renderers[\"Table With Subtotal\"]\n\n        it \"renders a table\", ->\n            expect table.find(\"table.pvtTable\").length\n            .toBe  1 \n\n        describe \"its renderer output\", ->\n            it \"has the correct type and number of cells\", ->\n                expect table.find(\"th.pvtAxisLabel\").length\n                .toBe  4 \n                expect table.find(\"th.collapsed\").length\n                .toBe  0 \n                expect table.find(\"th.expanded, th.rowexpanded, th.colexpanded\").length\n                .toBe  4+(2*5)+(10*2)+12 \n                expect table.find(\"th.pvtAxisLabel.expanded\").length\n                .toBe  4\n                expect table.find(\"th.pvtRowLabel.rowexpanded\").length\n                .toBe  8\n                expect table.find(\"th.pvtColLabel.colexpanded\").length\n                .toBe  22 \n                expect table.find(\"th.pvtTotalLabel.rowTotal\").length\n                .toBe  1 \n                expect table.find(\"th.pvtTotalLabel.colTotal\").length\n                .toBe  1 \n                expect table.find(\"td.pvtVal.pvtColSubtotal.pvtRowSubtotal\").length\n                .toBe  20 \n                expect table.find(\"td.pvtTotal.rowTotal.pvtRowSubtotal\").length\n                .toBe  2 \n                expect table.find(\"td.pvtTotal.colTotal.pvtColSubtotal\").length\n                .toBe  10 \n                expect table.find(\"td.pvtGrandTotal\").length\n                .toBe  1 \n\n            it \"has the correct textual representation\", ->\n                expect table.find(\"th.pvtColLabel\").text()\n                .toBe \" \\u25E2 1982-11-05 \\u25E2 1982-11-07 \\u25E2 1982-11-08 \\u25E2 1982-12-01 \\u25E2 1982-12-03 \\u25E2 1982-12-06 \\u25E2 1982-12-07 \\u25E2 1982-12-08 \\u25E2 1982-12-09 \\u25E2 1983-11-1111210311295112112112112112112112102\"\n                expect table.find(\"th.pvtRowLabel\").text()\n                .toBe \" \\u25E2 femaleblueredyellow \\u25E2 maleblueredyellow\"\n\n            it \"has a correct spot-checked cell with data value\", ->\n                expect table.find(\"td.pvtVal.pvtTotal.colTotal.col3.colcol1\").text()\n                .toBe  \"62.5%\"\n                expect table.find(\"td.pvtVal.pvtTotal.colTotal.col4.colcol1\").data(\"value\")\n                .toBe  30/80\n\ndescribe \"$.pivotUtilities\", ->\n\n    describe \".SubtotalPivotData()\", ->\n        sumOverSumOpts = \n            rows: [], cols: []\n            aggregator: $.pivotUtilities.aggregators[\"Sum over Sum\"]([\"a\",\"b\"])\n            filter: -> true\n            sorters: ->\n\n        describe \"with array-of-array input\", ->\n            aoaInput =  [ [\"a\",\"b\"], [1,2], [3,4] ]\n            pd = new $.pivotUtilities.SubtotalPivotData aoaInput, sumOverSumOpts\n\n            it \"has the correct grand total value\", ->\n                expect pd.getAggregator([],[]).value()\n                .toBe (1+3)/(2+4)\n\n        describe \"with array-of-object input\", ->\n            aosInput =  [ {a:1, b:2}, {a:3, b:4} ]\n            pd = new $.pivotUtilities.SubtotalPivotData aosInput, sumOverSumOpts\n\n            it \"has the correct grand total value\", ->\n                expect pd.getAggregator([],[]).value()\n                .toBe (1+3)/(2+4)\n\n        describe \"with function input\", ->\n            functionInput = (record) ->\n                record a:1, b:2\n                record a:3, b:4\n            pd = new $.pivotUtilities.SubtotalPivotData functionInput, sumOverSumOpts\n\n            it \"has the correct grand total value\", ->\n                expect pd.getAggregator([],[]).value()\n                .toBe (1+3)/(2+4)\n\n        describe \"with jQuery table element input\", ->\n            tableInput = $ \"\"\"\n                <table>\n                    <thead> \n                        <tr> <th>a</th><th>b</th> </tr>\n                    </thead> \n                    <tbody>\n                        <tr> <td>1</td> <td>2</td> </tr>\n                        <tr> <td>3</td> <td>4</td> </tr>\n                    </tbody>\n                </table>\n                \"\"\"\n\n            pd = new $.pivotUtilities.SubtotalPivotData tableInput, sumOverSumOpts\n\n            it \"has the correct grand total value\", ->\n                expect pd.getAggregator([],[]).value()\n                .toBe (1+3)/(2+4)\n\n\n        describe \"with rows/cols, no filters/sorters, count aggregator\", ->\n            pd = new $.pivotUtilities.SubtotalPivotData fixtureData2, \n                rows: [\"name\", \"colour\"], \n                cols: [\"trials\", \"successes\"],\n                aggregator: $.pivotUtilities.aggregators[\"Count\"](),\n                filter: -> true\n                sorters: ->\n\n            it \"has correctly-ordered row keys\", ->\n                expect pd.getRowKeys()\n                .toEqual [ [ 'Carol', 'yellow' ], [ 'Jane', 'red' ], [ 'John', 'blue' ], [ 'Nick', 'blue' ] ]\n               \n            it \"has correctly-ordered col keys\", ->\n                expect pd.getColKeys()\n                .toEqual [ [ 95, 25 ], [ 102, 14 ], [ 103, 12 ], [ 112, 30 ] ]\n\n            it \"can be iterated over\", ->\n                numNotNull = 0\n                numNull = 0\n                for r in pd.getRowKeys()\n                    for c in pd.getColKeys()\n                        if pd.getAggregator(r, c).value()?\n                            numNotNull++ \n                        else\n                            numNull++\n                expect numNotNull\n                .toBe 4\n                expect numNull\n                .toBe 12\n\n            it \"has a correct spot-checked aggregator\", ->\n                spots = [ {spot: [['Carol', 'yellow'], [102, 14]], val: 1}, {spot:  [['Jane', 'red'], [95, 25]], val: 1}, {spot: [['John', 'blue'], [112, 30]], val: 1}, {spot: [['Nick', 'blue'], [103, 12]], val: 1} ]\n                for s in spots\n                    agg = pd.getAggregator(s.spot[0],s.spot[1])\n                    val = agg.value()\n                    expect(val).toBe 1 \n                    expect(agg.format(val)).toBe \"\" + s.val\n\n            it \"has correct spot-checked aggregators for subtotal-rows and subtotal-columns\", ->\n                spots = [ {spot: [['Carol'], [102]], val: 1}, {spot:  [['Jane'], [95]], val: 1}, {spot: [['John'], [112]], val: 1}, {spot: [['Nick'], [103]], val: 1} ]\n                for s in spots\n                    agg = pd.getAggregator(s.spot[0], s.spot[1])\n                    val = agg.value()\n                    expect(val).toBe s.val \n                    expect(agg.format(val)).toBe \"\" + s.val\n\n            it \"has correct row-total for subtotal-rows\", ->\n                for hdr in ['Carol', 'Jane', 'John', 'Nick']\n                    agg = pd.getAggregator([hdr],[])\n                    val = agg.value()\n                    expect(val).toBe 1\n                    expect(agg.format(val)).toBe \"1\"\n\n            it \"has correct column-total for subtotal-columns\", ->\n                for hdr in [95, 102, 103, 112]\n                    agg = pd.getAggregator([],[hdr])\n                    val = agg.value()\n                    expect(val).toBe 1\n                    expect(agg.format(val)).toBe \"1\"\n\n            it \"has a correct grand total aggregator\", ->\n                agg = pd.getAggregator([],[])\n                val = agg.value()\n                expect(val).toBe 4 \n                expect(agg.format(val)).toBe \"4\"\n"]}